(function(e){var m,b,n,p,q,h,k,r,t,u,g,l;n=function(a,b,d){var c,f;d&&(b=e.extend({},b,d));d=a[0]||a;for(c in b)switch(f=b[c],typeof f){case "object":this.applyStyles(d,f);break;case "function":f=f(this);"object"===typeof f?this.applyStyles(d,f):d.style[c]=f;break;default:d.style[c]=f}return a};u=function(a,b,d){var c;c=new function(){for(var a in b)this[a]="";return this};return this.applyStyles(a,c,d)};q=function(a){var c;c=e(".Subnotices.direction---"+a,b.context);if(c.length)return c;c=e(k.container(a)).appendTo(b.context);
n(c,b.style[a].container);return c};h=function(a){return{webkitTransform:"translateY("+a+")",mozTransform:"translateY("+a+")",msTransform:"translateY("+a+")",oTransform:"translateY("+a+")",transform:"translateY("+a+")"}};t=/matrix3?d?\((.+)\)/;r=/,\s*/;p=function(a){a=window.getComputedStyle(a.els.subnotice[0]);a=a.transform||a.webkitTransform||a.mozTransform;null!=a&&a.length&&"none"!==a?(a=a.match(t)[1],a=a.split(r).slice(-1)[0]):a=0;return parseFloat(a)};g={};l={};g.bottom={container:{position:"fixed",
zIndex:"10000",bottom:"0",left:"0",width:"100%"},subnotice:{position:"absolute",bottom:0,width:"100%",padding:"13px 45px 10px",boxSizing:"border-box",transform:h("100%"),backgroundColor:function(a){return b.colors[b.colorMapping[a.type]]||"grey"},color:function(a){return b.requiresDarkText[a.type]?b.colors.dark:b.colors.light},transition:function(a){return"transform "+a.animationSpeed/1E3+"s"}},text:{fontSize:"13px",fontWeight:500,lineHeight:1},icon:{position:"absolute",top:"50%",left:"14px",width:"20px",
height:"20px",transform:h("-50%"),borderRadius:"50%",fontSize:"11px",lineHeight:"20px",textAlign:"center",backgroundColor:function(a){return b.requiresDarkText[a.type]?b.colors.dark:b.colors.light},color:function(a){return b.colors[b.colorMapping[a.type]]||"grey"}},close:{position:"absolute",top:"50%",right:"10px",transform:h("-50%"),fontSize:"15px",lineHeight:1,cursor:"pointer"}};g.top={container:e.extend({},g.bottom.container,{top:0,bottom:"auto"}),subnotice:e.extend({},g.bottom.subnotice,{transform:h("0%")}),
text:e.extend({},g.bottom.text),icon:e.extend({},g.bottom.icon),close:e.extend({},g.bottom.close)};l.bottom={subnotice:{marginBottom:function(a){return a.placementOffset+"px"},transform:h("0%")}};l.top={subnotice:{marginBottom:function(a){return"-"+a.placementOffset+"px"},transform:h("100%")}};k={container:function(a){return"<div class='Subnotices direction---"+a+"'></div>"},subnotice:function(a,b){null==b&&(b="");return"<div class='Subnotice __"+a+" "+b+"'></div>"},icon:function(a){null==a&&(a="");
return"<div class='Subnotice-icon'><div>"+a+"</div></div>"},text:function(a){return"<div class='Subnotice-text'><div>"+a+"</div></div>"},close:function(a){null==a&&(a="");return"<div class='Subnotice-close'><div>"+a+"</div></div>"}};b=function(a){var c,d;this.type=a.type;this.text=a.text;this.time=a.time;this.icon=null!=(d=a.icon)?d:b.icons[this.type];this.extraClassnames=a.extraClassnames;this.animationSpeed=b.animationSpeed;this.direction=b.direction;this.els={};this.els.container=q(this.direction);
this.els.subnotice=e(k.subnotice(this.type,this.extraClassnames)).data("Subnotice",this);this.els.icon=e(k.icon(this.icon)).appendTo(this.els.subnotice);this.els.text=e(k.text(this.text)).appendTo(this.els.subnotice);this.els.close=e(k.close(b.icons.close)).appendTo(this.els.subnotice);this.isActive=!0;this.noticesList=null!=(c=this.els.container[0]).noticesList?c.noticesList:c.noticesList=[];this.applyStyles=n.bind(this);this.removeStyles=u.bind(this);this.appendToDOM();this.attachEvents();b.instances.push(this);
return this};b.prototype.appendToDOM=function(){this.applyStyles(this.els.container,b.style[this.direction].container);this.applyStyles(this.els.subnotice,b.style[this.direction].subnotice);this.applyStyles(this.els.icon,b.style[this.direction].icon);this.applyStyles(this.els.text,b.style[this.direction].text);this.applyStyles(this.els.close,b.style[this.direction].close);return this.els.subnotice.appendTo(this.els.container)};b.prototype.reveal=function(){var a;a=this.noticesList.slice().map(function(a){return a.beingDestroyed?
0:a.els.subnotice[0].offsetHeight});this.placementOffset=a.length?a.reduce(function(a,b){null==a&&(a=0);null==b&&(b=0);return a+b}):0;this.noticesList.push(this);this.applyStyles(this.els.subnotice,b.styleOpenState[this.direction].subnotice,{zIndex:100-this.noticesList.length});if(!1!==this.time)return setTimeout(function(a){return function(){return a.destroy()}}(this),this.time)};b.prototype.attachEvents=function(){return this.els.close.on(b.clickEvent,function(a){return function(){return a.destroy()}}(this))};
b.prototype.destroy=function(a){var c,d;null==a&&(a=this.animationSpeed);if(this.isActive)return this.beingDestroyed=!0,d=this.noticesList.slice(this.noticesList.indexOf(this)),c=this.els.subnotice[0].offsetHeight,"top"===this.direction&&(c*=-1),d.concat(this).forEach(function(a){return function(a){var b;b=p(a)+c;return a.applyStyles(a.els.subnotice,h(b+"px"))}}(this)),b.instances.includes(this)&&b.instances.splice(b.instances.indexOf(this),1),setTimeout(function(a){return function(){if(a.isActive)return a.isActive=
a.beingDestroyed=!1,a.noticesList.splice(a.noticesList.indexOf(a),1),a.els.subnotice.remove()}}(this),a+20)};m=function(a){this.title=a.title;this.text=a.text;if("undefined"===typeof Notification||null===Notification)return this;"granted"===Notification.permission?this.reveal():Notification.requestPermission().then(function(a){return function(b){if("granted"===b)return a.reveal()}}(this));return this};m.prototype.reveal=function(){return this.notice=new Notification(this.title,{body:this.text})};
b.version="3.0.0";b.markup=k;b.style=g;b.styleOpenState=l;b.instances=[];b.direction="bottom";b.clickEvent="click";b.animationSpeed=300;b.time=1E4;b.delay=250;b.context=document.body;b.requiresDarkText={info:!0};b.colorMapping={info:"grey",success:"green",error:"red",warning:"yellow"};b.colors={light:"#ffffff",dark:"#313131",green:"#72c322",red:"#95190c",yellow:"#e3b505",grey:"#a2a3a5"};b.icons={info:"",success:"",error:"",warning:"",close:""};window.subnotify=function(a){var c,d,e,f,g,h,k;k=null!=
(e=a.type)?e:"info";e=null!=(f=a.title)?f:"";f=null!=(g=a.text)?g:"";g=null!=(c=a.time)?c:b.time;c=null!=(d=a.delay)?d:b.delay;d=a.extraClassnames;a=a.browserNotice;h=new b({type:k,text:f,time:g,extraClassnames:d});a&&new m({title:e,text:f});setTimeout(function(){return h.reveal()},c);return h};return window.Subnotice=b})(jQuery);
